groups:
  - name: OpenClaw Configuration
    description: Configure OpenClaw Settings
  - name: LLM Configuration
    description: Configure LLM Providers (Ollama, OpenAI, etc.)
  - name: Network Configuration
    description: Configure Network for OpenClaw
  - name: Storage Configuration
    description: Configure Storage for OpenClaw
  - name: Resources Configuration
    description: Configure Resources for OpenClaw

questions:
  - variable: openclaw
    label: ""
    group: OpenClaw Configuration
    schema:
      type: dict
      attrs:
        - variable: gateway_token
          label: Gateway Token
          description: "OPENCLAW_GATEWAY_TOKEN"
          schema:
            type: string
            private: true
            required: true
        - variable: anthropic_api_key
          label: Anthropic API Key
          description: "API key from https://console.anthropic.com/"
          schema:
            type: string
            private: true
            default: ""
        - variable: additional_envs
          label: Additional Environment Variables
          schema:
            type: list
            default: []
            items:
              - variable: env
                label: Environment Variable
                schema:
                  type: dict
                  attrs:
                    - variable: name
                      label: Name
                      schema:
                        type: string
                        required: true
                    - variable: value
                      label: Value
                      schema:
                        type: string

  - variable: llm
    label: ""
    group: LLM Configuration
    schema:
      type: dict
      attrs:
        - variable: ollama_base_url
          label: Ollama Base URL
          description: "URL for Ollama instance (e.g. http://192.168.1.100:11434)"
          schema:
            type: string
            default: ""
        - variable: openai_api_base
          label: OpenAI API Base URL
          description: "Base URL for OpenAI compatible provider"
          schema:
            type: string
            default: ""
        - variable: openai_api_key
          label: OpenAI API Key
          description: "API Key for OpenAI compatible provider"
          schema:
            type: string
            private: true
            default: ""

  - variable: network
    label: ""
    group: Network Configuration
    schema:
      type: dict
      attrs:
        - variable: gateway_port
          label: Gateway Port
          schema:
            type: dict
            attrs:
              - variable: bind_mode
                label: Port Bind Mode
                schema:
                  type: string
                  default: "published"
                  enum:
                    - value: "published"
                      description: Publish port on the host
                    - value: "exposed"
                      description: Expose port internally
                    - value: ""
                      description: None
              - variable: port_number
                label: Port Number
                schema:
                  type: int
                  default: 18789
                  min: 1
                  max: 65535
                  required: true
        - variable: bridge_port
          label: Bridge Port
          schema:
            type: dict
            attrs:
              - variable: bind_mode
                label: Port Bind Mode
                schema:
                  type: string
                  default: "published"
                  enum:
                    - value: "published"
                      description: Publish port on the host
                    - value: "exposed"
                      description: Expose port internally
                    - value: ""
                      description: None
              - variable: port_number
                label: Port Number
                schema:
                  type: int
                  default: 18790
                  min: 1
                  max: 65535
                  required: true

  - variable: storage
    label: ""
    group: Storage Configuration
    schema:
      type: dict
      attrs:
        - variable: config
          label: Config Storage
          description: Stores OpenClaw configuration and workspace
          schema:
            type: dict
            attrs:
              - variable: type
                label: Type
                schema:
                  type: string
                  default: "ix_volume"
                  enum:
                    - value: "host_path"
                      description: "Host Path"
                    - value: "ix_volume"
                      description: "TrueNAS Dataset"
              - variable: ix_volume_config
                label: Dataset Configuration
                schema:
                  type: dict
                  show_if: [["type", "=", "ix_volume"]]
                  attrs:
                    - variable: dataset_name
                      label: Dataset Name
                      schema:
                        type: string
                        default: "config"
                        required: true
              - variable: host_path_config
                label: Host Path Configuration
                schema:
                  type: dict
                  show_if: [["type", "=", "host_path"]]
                  attrs:
                    - variable: path
                      label: Host Path
                      schema:
                        type: hostpath
                        required: true

  - variable: resources
    label: ""
    group: Resources Configuration
    schema:
      type: dict
      attrs:
        - variable: limits
          label: Limits
          schema:
            type: dict
            attrs:
              - variable: cpus
                label: CPUs
                schema:
                  type: int
                  default: 2
                  required: true
              - variable: memory
                label: Memory (in MB)
                schema:
                  type: int
                  default: 4096
                  required: true
